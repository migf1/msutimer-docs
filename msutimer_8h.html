<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSUTimer: msutimer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MSUTimer
   &#160;<span id="projectnumber">v0.01 alpha</span>
   </div>
   <div id="projectbrief">Simple High Resolution Timer for C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('msutimer_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">msutimer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple High Resolution Timer for C (public interface).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div>
<p><a href="msutimer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Convenience Macros</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Benchmark functions (and others) return <em>microseconds</em>, so the following macros may prove handy to the caller. </p>
</div></td></tr>
<tr class="memitem:a39aa51836a0fc8e7da43e6293bc6f87a"><td class="memItemLeft" align="right" valign="top"><a id="a39aa51836a0fc8e7da43e6293bc6f87a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a39aa51836a0fc8e7da43e6293bc6f87a">MSUT_US2MS</a>(usecs)&#160;&#160;&#160;((usecs) * 0.001)</td></tr>
<tr class="memdesc:a39aa51836a0fc8e7da43e6293bc6f87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert microseconds to milliseconds. <br /></td></tr>
<tr class="separator:a39aa51836a0fc8e7da43e6293bc6f87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3803c248d042a7a010433db47737b6e4"><td class="memItemLeft" align="right" valign="top"><a id="a3803c248d042a7a010433db47737b6e4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a3803c248d042a7a010433db47737b6e4">MSUT_US2S</a>(usecs)&#160;&#160;&#160;((usecs) * 0.000001)</td></tr>
<tr class="memdesc:a3803c248d042a7a010433db47737b6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert microseconds to seconds. <br /></td></tr>
<tr class="separator:a3803c248d042a7a010433db47737b6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aaa3124bc53d7c37e4b282170aa44c133"><td class="memItemLeft" align="right" valign="top"><a id="aaa3124bc53d7c37e4b282170aa44c133"></a>
typedef struct MSUTimer_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a></td></tr>
<tr class="memdesc:aaa3124bc53d7c37e4b282170aa44c133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque type (forward-declaration) <br /></td></tr>
<tr class="separator:aaa3124bc53d7c37e4b282170aa44c133"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb8782114eb99c008bd70f31856075f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a> (void)</td></tr>
<tr class="memdesc:acb8782114eb99c008bd70f31856075f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new timer.  <a href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">More...</a><br /></td></tr>
<tr class="separator:acb8782114eb99c008bd70f31856075f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb8df77fffe284b53342938a32a8bd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8">msutimer_free</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer)</td></tr>
<tr class="memdesc:a9eb8df77fffe284b53342938a32a8bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an existing timer.  <a href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8">More...</a><br /></td></tr>
<tr class="separator:a9eb8df77fffe284b53342938a32a8bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad520b7e2ed145d3b650b37be37da88"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a0ad520b7e2ed145d3b650b37be37da88">msutimer_accuracy_usecs</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer)</td></tr>
<tr class="memdesc:a0ad520b7e2ed145d3b650b37be37da88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get <em>MSUTimer</em> accuracy.  <a href="msutimer_8h.html#a0ad520b7e2ed145d3b650b37be37da88">More...</a><br /></td></tr>
<tr class="separator:a0ad520b7e2ed145d3b650b37be37da88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fb0b9fe87ca6721a959f1ad8f5066e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e">msutimer_gettime</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer)</td></tr>
<tr class="memdesc:ae8fb0b9fe87ca6721a959f1ad8f5066e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current time &amp; update time-difference.  <a href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e">More...</a><br /></td></tr>
<tr class="separator:ae8fb0b9fe87ca6721a959f1ad8f5066e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a38919d5622d0d27cf6292b19b34f04"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04">msutimer_diff_usecs</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer)</td></tr>
<tr class="memdesc:a1a38919d5622d0d27cf6292b19b34f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get updated time-difference in <em>microseconds</em>.  <a href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04">More...</a><br /></td></tr>
<tr class="separator:a1a38919d5622d0d27cf6292b19b34f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b59e9d5d3bb4a20302c815d3728bdd1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a3b59e9d5d3bb4a20302c815d3728bdd1">msutimer_diff_msecs</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer)</td></tr>
<tr class="memdesc:a3b59e9d5d3bb4a20302c815d3728bdd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get updated time-difference in <em>milliseconds</em>.  <a href="msutimer_8h.html#a3b59e9d5d3bb4a20302c815d3728bdd1">More...</a><br /></td></tr>
<tr class="separator:a3b59e9d5d3bb4a20302c815d3728bdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291e54b82e889c82346ec7c98ae6f18e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a291e54b82e889c82346ec7c98ae6f18e">msutimer_diff_secs</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer)</td></tr>
<tr class="memdesc:a291e54b82e889c82346ec7c98ae6f18e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get updated time-difference in <em>seconds</em>.  <a href="msutimer_8h.html#a291e54b82e889c82346ec7c98ae6f18e">More...</a><br /></td></tr>
<tr class="separator:a291e54b82e889c82346ec7c98ae6f18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012bbbc2104dd2e471dc635626fe7b5c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c">msutimer_bench</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer, size_t nrepeats, bool(*callback)(void *), void *userdata, size_t *erepeat)</td></tr>
<tr class="memdesc:a012bbbc2104dd2e471dc635626fe7b5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get callback's execution time.  <a href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c">More...</a><br /></td></tr>
<tr class="separator:a012bbbc2104dd2e471dc635626fe7b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0680bc49327dac06b2a2bb1c715914e9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9">msutimer_bench_average</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer, size_t nrepeats, bool(*callback)(void *), void *userdata, size_t *erepeat)</td></tr>
<tr class="memdesc:a0680bc49327dac06b2a2bb1c715914e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get callback's average execution time.  <a href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9">More...</a><br /></td></tr>
<tr class="separator:a0680bc49327dac06b2a2bb1c715914e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f02f48eab0566b6188937a8d5c8292"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292">msutimer_bench_median</a> (<a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *timer, size_t nrepeats, bool(*callback)(void *), void *userdata, size_t *erepeat)</td></tr>
<tr class="memdesc:a59f02f48eab0566b6188937a8d5c8292"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get callback's median execution time.  <a href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292">More...</a><br /></td></tr>
<tr class="separator:a59f02f48eab0566b6188937a8d5c8292"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple High Resolution Timer for C (public interface). </p>
<dl class="section version"><dt>Version</dt><dd>0.01 alpha </dd></dl>
<dl class="section date"><dt>Date</dt><dd>19 June, 2021 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>migf1 <a href="#" onclick="location.href='mai'+'lto:'+'mig'+'_f'+'1@h'+'ot'+'mai'+'l.'+'com'; return false;">mig_f<span style="display: none;">.nosp@m.</span>1@ho<span style="display: none;">.nosp@m.</span>tmail<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>
<dl class="section user"><dt>Language:</dt><dd>ISO C99 </dd></dl>
<dl class="section user"><dt>Online Docs:</dt><dd><a href="https://migf1.github.io/msutimer-docs/">https://migf1.github.io/msutimer-docs/</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd>This project is released under the zlib license (see <a class="el" href="_l_i_c_e_n_s_e_8txt.html">LICENSE.txt</a>) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0ad520b7e2ed145d3b650b37be37da88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad520b7e2ed145d3b650b37be37da88">&#9670;&nbsp;</a></span>msutimer_accuracy_usecs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_accuracy_usecs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get <em>MSUTimer</em> accuracy. </p>
<p>Obtains the minimum time-interval that can be measured by <em>MSUTimer</em>, on the running platform. The returned <em>microseconds</em> can be converted to <em>milliseconds</em> or <em>seconds</em>, with the convenience macros <a class="el" href="msutimer_8h.html#a39aa51836a0fc8e7da43e6293bc6f87a" title="Convert microseconds to milliseconds.">MSUT_US2MS()</a> or <a class="el" href="msutimer_8h.html#a3803c248d042a7a010433db47737b6e4" title="Convert microseconds to seconds.">MSUT_US2S()</a>, respectively.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Any already created timer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>double</code> representing the <em>MSUTimer</em> accuracy on the current platform in <em>microseconds</em>, or <code>-DBL_MAX</code> on error. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>On Windows, a typical accuracy is around 0.320 <em>microseconds</em>. Occasionally the function may return a bogus value, but it is pretty rare (and I really don't know why it's doing that).</dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>timer is <code>NULL</code> (<code>errno</code> is set to <code>EDOM</code>) </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="index.html#msut_pdm">Platform Dependent Measurements</a></dd></dl>
<dl class="section user"><dt>Sample Usage</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="msutimer_8h.html">msutimer.h</a>&quot;</span></div>
<div class="line">...</div>
<div class="line">int main( <span class="keywordtype">void</span> ) {</div>
<div class="line">    MSUTimer *timer = <a class="code" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (!timer) { fputs(<span class="stringliteral">&quot;msutimer_new()failed!\n&quot;</span>, stderr); exit(1); }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">double</span> usecs = <a class="code" href="msutimer_8h.html#a0ad520b7e2ed145d3b650b37be37da88">msutimer_accuracy_usecs</a>(timer);</div>
<div class="line">    printf( <span class="stringliteral">&quot;MSUTimer accuracy: %.9.lf secs\n&quot;</span>, <a class="code" href="msutimer_8h.html#a3803c248d042a7a010433db47737b6e4">MSUT_US2S</a>(usecs) );</div>
<div class="line">    printf( <span class="stringliteral">&quot;MSUTimer accuracy: %.9.lf msecs\n&quot;</span>, <a class="code" href="msutimer_8h.html#a39aa51836a0fc8e7da43e6293bc6f87a">MSUT_US2MS</a>(usecs) );</div>
<div class="line">    printf( <span class="stringliteral">&quot;MSUTimer accuracy: %.9.lf usecs\n&quot;</span>, usecs );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8">msutimer_free</a>( timer );</div>
<div class="line">    exit(0);</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Output -------------</span></div>
<div class="line"><span class="comment">// MSUTimer accuracy: 0.000000320 secs</span></div>
<div class="line"><span class="comment">// MSUTimer accuracy: 0.000320801 msecs</span></div>
<div class="line"><span class="comment">// MSUTimer accuracy: 0.320312500 usecs</span></div>
<div class="ttc" id="amsutimer_8h_html"><div class="ttname"><a href="msutimer_8h.html">msutimer.h</a></div><div class="ttdoc">Simple High Resolution Timer for C (public interface).</div></div>
<div class="ttc" id="amsutimer_8h_html_a0ad520b7e2ed145d3b650b37be37da88"><div class="ttname"><a href="msutimer_8h.html#a0ad520b7e2ed145d3b650b37be37da88">msutimer_accuracy_usecs</a></div><div class="ttdeci">double msutimer_accuracy_usecs(MSUTimer *timer)</div><div class="ttdoc">Get MSUTimer accuracy.</div><div class="ttdef"><b>Definition:</b> msutimer.c:469</div></div>
<div class="ttc" id="amsutimer_8h_html_a3803c248d042a7a010433db47737b6e4"><div class="ttname"><a href="msutimer_8h.html#a3803c248d042a7a010433db47737b6e4">MSUT_US2S</a></div><div class="ttdeci">#define MSUT_US2S(usecs)</div><div class="ttdoc">Convert microseconds to seconds.</div><div class="ttdef"><b>Definition:</b> msutimer.h:52</div></div>
<div class="ttc" id="amsutimer_8h_html_a39aa51836a0fc8e7da43e6293bc6f87a"><div class="ttname"><a href="msutimer_8h.html#a39aa51836a0fc8e7da43e6293bc6f87a">MSUT_US2MS</a></div><div class="ttdeci">#define MSUT_US2MS(usecs)</div><div class="ttdoc">Convert microseconds to milliseconds.</div><div class="ttdef"><b>Definition:</b> msutimer.h:51</div></div>
<div class="ttc" id="amsutimer_8h_html_a9eb8df77fffe284b53342938a32a8bd8"><div class="ttname"><a href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8">msutimer_free</a></div><div class="ttdeci">MSUTimer * msutimer_free(MSUTimer *timer)</div><div class="ttdoc">Free an existing timer.</div><div class="ttdef"><b>Definition:</b> msutimer.c:262</div></div>
<div class="ttc" id="amsutimer_8h_html_acb8782114eb99c008bd70f31856075f7"><div class="ttname"><a href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a></div><div class="ttdeci">MSUTimer * msutimer_new(void)</div><div class="ttdoc">Create a new timer.</div><div class="ttdef"><b>Definition:</b> msutimer.c:205</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a012bbbc2104dd2e471dc635626fe7b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012bbbc2104dd2e471dc635626fe7b5c">&#9670;&nbsp;</a></span>msutimer_bench()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_bench </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nrepeats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>erepeat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get callback's execution time. </p>
<p>Measures the execution time of its callback-function argument, after a specified number of iterations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>An already created timer. </td></tr>
    <tr><td class="paramname">nrepeats</td><td>The number of times to execute the callback-function (iterations). </td></tr>
    <tr><td class="paramname">callback</td><td>The callback-function to be measured. It should be of type <code>bool</code> (C99) returning <code>false</code> on error, <code>true</code> otherwise. Its prototype should be the following: <div class="fragment"><div class="line">bool (*callback)(<span class="keywordtype">void</span> *userdata);</div>
</div><!-- fragment --> </td></tr>
    <tr><td class="paramname">userdata</td><td>A <code>void</code> pointer to caller-defined data, used by the callback-function. This pointer gets directly passed to the callback-function without any processing. It may be <code>NULL</code> if the callback-functions doesn't use any extra data. </td></tr>
    <tr><td class="paramname">erepeat</td><td>If non-<code>NULL</code>, then in case of callback error (<code>false</code>) <code>erepeat</code> passes back to the caller the last successful iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>double</code> representing the time spent (in <em>microseconds</em>) to execute the callback-function <code>nrepeats</code> times.</dd></dl>
<p>If the callback-function errors before completing <code>nrepeats</code> iterations, then the returned value is <b>negative</b> and <code>erepeat</code> (if non-<code>NULL</code>) passes back to the caller the last successful iteration. Hence a negative return value reflects the number of <em>microseconds</em> elpased until the <code>erepeat</code>'th iteration.</p>
<p>On all other errors, <code>errno</code> is set to <code>EDOM</code> and the function returns 0.0</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>When the function returns 0.0, the caller can tell if there was an error by checking <code>errno</code> against <code>EDOM</code> (or not being 0). In <em>MSUTimer</em> debug mode (e.g. compiled with <code>-DMSUTDEBUG</code> or <code>-DMSUTDEBUG=2</code>) errors are auto reported to <code>stderr</code>.</li>
<li>The return value can be converted to <em>milliseconds</em> or <em>seconds</em> with the convenience macros <a class="el" href="msutimer_8h.html#a39aa51836a0fc8e7da43e6293bc6f87a" title="Convert microseconds to milliseconds.">MSUT_US2MS()</a> or <a class="el" href="msutimer_8h.html#a3803c248d042a7a010433db47737b6e4" title="Convert microseconds to seconds.">MSUT_US2S()</a>, respectively.</li>
<li>For an example (without error-handling) see the section <a class="el" href="index.html#msut_bench">Benchmarking</a>.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>timer is <code>NULL</code> (returns 0.0, <code>errno</code> is set to <code>EDOM</code>)</li>
<li>nrepeats is 0 (returns 0.0, <code>errno</code> is set to <code>EDOM</code>)</li>
<li>callback is <code>NULL</code> (returns 0.0, <code>errno</code> is set to <code>EDOM</code>)</li>
<li>callback returns <code>false</code> (<code>erepeat</code> is set to the last successful iteration and the function returns the elapsed <em>microseconds</em> until then, as a negative <code>double</code>). </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9" title="Get callback&#39;s average execution time.">msutimer_bench_average()</a>, <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a>, <a class="el" href="index.html#msut_bench">Benchmarking</a> </dd></dl>

</div>
</div>
<a id="a0680bc49327dac06b2a2bb1c715914e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0680bc49327dac06b2a2bb1c715914e9">&#9670;&nbsp;</a></span>msutimer_bench_average()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_bench_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nrepeats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>erepeat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get callback's average execution time. </p>
<p>Measures the average execution time of its callback-function argument, after a specified number of iterations.</p>
<dl class="section remark"><dt>Remarks</dt><dd>For details see the function <a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a>. The only difference is that <a class="el" href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9" title="Get callback&#39;s average execution time.">msutimer_bench_average()</a> returns the average time after <code>nrepeats</code> iterations, instead of summing up all iterations.</dd></dl>
<p>Put otherwise, <a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a> returns the total time after <code>nrepeats</code> iterations, while <a class="el" href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9" title="Get callback&#39;s average execution time.">msutimer_bench_average()</a> returns the average time of a single call after <code>nrepeats</code> iterations.</p>
<p>Compared to <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a>, this function accounts excessive spikes in the computation (<a href="https://www.diffen.com/difference/Mean_vs_Median">average vs. median</a>).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a>, <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a>, <a class="el" href="index.html#msut_bench">Benchmarking</a> </dd></dl>

</div>
</div>
<a id="a59f02f48eab0566b6188937a8d5c8292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f02f48eab0566b6188937a8d5c8292">&#9670;&nbsp;</a></span>msutimer_bench_median()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_bench_median </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nrepeats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>erepeat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get callback's median execution time. </p>
<p>Measures the median execution time of its callback-function argument, after a specified number of iterations.</p>
<dl class="section remark"><dt>Remarks</dt><dd>For details see the function <a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a>. The only difference is that <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a> returns the median time after <code>nrepeats</code> iterations, instead of summing up all iterations.</dd></dl>
<p>Put otherwise, <a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a> returns the total time after <code>nrepeats</code> iterations, while <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a> returns the median time of a single call after <code>nrepeats</code> iterations.</p>
<p>Compared to <a class="el" href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9" title="Get callback&#39;s average execution time.">msutimer_bench_average()</a>, this function ignores excessive spikes in the computation (<a href="https://www.diffen.com/difference/Mean_vs_Median">average vs. median</a>).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a>, <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a>, <a class="el" href="index.html#msut_bench">Benchmarking</a> </dd></dl>

</div>
</div>
<a id="a3b59e9d5d3bb4a20302c815d3728bdd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b59e9d5d3bb4a20302c815d3728bdd1">&#9670;&nbsp;</a></span>msutimer_diff_msecs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_diff_msecs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get updated time-difference in <em>milliseconds</em>. </p>
<p>Queries its timer argument for the updated time-difference, after a call to <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a>. Calling this function before calling <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a> first, results to a random value (bogus time-difference).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>The timer to be queried. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>double</code> reflecting the updated time-difference in <em>milliseconds</em> after a call to <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a>, or <code>-DBL_MAX</code> on error. </dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>timer is <code>NULL</code> (<code>errno</code> is set to <code>EDOM</code>) </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04" title="Get updated time-difference in microseconds.">msutimer_diff_usecs()</a>, <a class="el" href="msutimer_8h.html#a291e54b82e889c82346ec7c98ae6f18e" title="Get updated time-difference in seconds.">msutimer_diff_secs()</a>, <a class="el" href="index.html#msut_use">Usage Quick Guide</a> </dd></dl>

</div>
</div>
<a id="a291e54b82e889c82346ec7c98ae6f18e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291e54b82e889c82346ec7c98ae6f18e">&#9670;&nbsp;</a></span>msutimer_diff_secs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_diff_secs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get updated time-difference in <em>seconds</em>. </p>
<p>Queries its timer argument for the updated time-difference, after a call to <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a>. Calling this function before calling <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a> first, results to a random value (bogus time-difference).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>The timer to be queried. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>double</code> reflecting the updated time-difference in <em>seconds</em> after a call to <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a>, or <code>-DBL_MAX</code> on error. </dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>timer is <code>NULL</code> (<code>errno</code> is set to <code>EDOM</code>) </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04" title="Get updated time-difference in microseconds.">msutimer_diff_usecs()</a>, <a class="el" href="msutimer_8h.html#a3b59e9d5d3bb4a20302c815d3728bdd1" title="Get updated time-difference in milliseconds.">msutimer_diff_msecs()</a>, <a class="el" href="index.html#msut_use">Usage Quick Guide</a> </dd></dl>

</div>
</div>
<a id="a1a38919d5622d0d27cf6292b19b34f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a38919d5622d0d27cf6292b19b34f04">&#9670;&nbsp;</a></span>msutimer_diff_usecs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_diff_usecs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get updated time-difference in <em>microseconds</em>. </p>
<p>Queries its timer argument for the updated time-difference, after a call to <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a>. Calling this function before calling <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a> first, results to a random value (bogus time-difference).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>The timer to be queried. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>double</code> reflecting the updated time-difference in <em>microseconds</em> after a call to <a class="el" href="msutimer_8h.html#ae8fb0b9fe87ca6721a959f1ad8f5066e" title="Get current time &amp; update time-difference.">msutimer_gettime()</a>, or <code>-DBL_MAX</code> on error. </dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>timer is <code>NULL</code> (<code>errno</code> is set to <code>EDOM</code>) </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a3b59e9d5d3bb4a20302c815d3728bdd1" title="Get updated time-difference in milliseconds.">msutimer_diff_msecs()</a>, <a class="el" href="msutimer_8h.html#a291e54b82e889c82346ec7c98ae6f18e" title="Get updated time-difference in seconds.">msutimer_diff_secs()</a>, <a class="el" href="index.html#msut_use">Usage Quick Guide</a></dd></dl>
<dl class="section user"><dt>Sample Usage</dt><dd><div class="fragment"><div class="line">MSUTimer *timer = <a class="code" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a>();   <span class="comment">// if ( !timer1 ) { handle error here }</span></div>
<div class="line">...</div>
<div class="line">msutimer_gettime( timer );</div>
<div class="line">printf( <span class="stringliteral">&quot;Elapsed: %.9lf usecs\n&quot;</span>, <a class="code" href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04">msutimer_diff_usecs</a>(timer) );</div>
<div class="line">...</div>
<div class="line">msutimer_gettime( timer );</div>
<div class="line">printf( <span class="stringliteral">&quot;Elapsed: %.9lf usecs\n&quot;</span>, <a class="code" href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04">msutimer_diff_usecs</a>(timer) );</div>
<div class="line"><a class="code" href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8">msutimer_free</a>( timer );</div>
<div class="ttc" id="amsutimer_8h_html_a1a38919d5622d0d27cf6292b19b34f04"><div class="ttname"><a href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04">msutimer_diff_usecs</a></div><div class="ttdeci">double msutimer_diff_usecs(MSUTimer *timer)</div><div class="ttdoc">Get updated time-difference in microseconds.</div><div class="ttdef"><b>Definition:</b> msutimer.c:353</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a9eb8df77fffe284b53342938a32a8bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb8df77fffe284b53342938a32a8bd8">&#9670;&nbsp;</a></span>msutimer_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a>* msutimer_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an existing timer. </p>
<p>De-allocates the memory reserved for its timer argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>The timer to be freed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always<code>NULL</code>, so the caller can opt to assign it back to the freed pointer, to avoid leaving it in a dangling state.</dd></dl>
<dl class="section user"><dt>Sample Usage</dt><dd><div class="fragment"><div class="line">MSUTimer *timer1 = <a class="code" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a>();  <span class="comment">// if ( !timer1 ) { handle error here }</span></div>
<div class="line">MSUTimer *timer2 = <a class="code" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a>();  <span class="comment">// if ( !timer2 ) { handle error here }</span></div>
<div class="line">...</div>
<div class="line">msutimer_free( timer2 );            <span class="comment">// free timer2 and leave it dangling</span></div>
<div class="line">timer1 = <a class="code" href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8">msutimer_free</a>( timer1 );   <span class="comment">// free timer1 and reset it to NULL</span></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ae8fb0b9fe87ca6721a959f1ad8f5066e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8fb0b9fe87ca6721a959f1ad8f5066e">&#9670;&nbsp;</a></span>msutimer_gettime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msutimer_gettime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a> *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current time &amp; update time-difference. </p>
<p>Gets the current time and Updates its timer argument with the elapsed time since the previous call of the function, or the construction of the timer (whichever came last). The time-difference can then get fetched as a <code>double</code> with one of the functions: <a class="el" href="msutimer_8h.html#a1a38919d5622d0d27cf6292b19b34f04" title="Get updated time-difference in microseconds.">msutimer_diff_usecs()</a>, <a class="el" href="msutimer_8h.html#a3b59e9d5d3bb4a20302c815d3728bdd1" title="Get updated time-difference in milliseconds.">msutimer_diff_msecs()</a>, <a class="el" href="msutimer_8h.html#a291e54b82e889c82346ec7c98ae6f18e" title="Get updated time-difference in seconds.">msutimer_diff_secs()</a>, which return <em>microseconds</em>, <em>millseconds</em> or <em>seconds</em> respectively.</p>
<p>Alternatively, the caller may opt to calculate the elapsed time manually, by storing and then subtracting the <code>double</code> values returned by 2 calls of the function (similar to how the standard C function <code>clock()</code> is used). This also allows for time measurements over multiple calls of the function. The result of the subtraction represents <em>microseconds</em>, which can then get passed to the convenience macros <a class="el" href="msutimer_8h.html#a39aa51836a0fc8e7da43e6293bc6f87a" title="Convert microseconds to milliseconds.">MSUT_US2MS()</a> or <a class="el" href="msutimer_8h.html#a3803c248d042a7a010433db47737b6e4" title="Convert microseconds to seconds.">MSUT_US2S()</a> for converting them to <em>milliseconds</em> or <em>seconds</em>, respectively.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>The timer to be updated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>double</code>, representing the current time in <em>microseconds</em>. Useful for calculating manually the time-difference between 2 calls of the function. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Typically, the piece of code to be timed is placed between 2 calls of this function. The very first time, the code may also be placed between <a class="el" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7" title="Create a new timer.">msutimer_new()</a> and this function, but then the manual calculation method cannot be used (moreover, the construction validation overhead is added to the result). </dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>timer is <code>NULL</code> (<code>errno</code> is set to <code>EDOM</code>) </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="msutimer_8h.html#a012bbbc2104dd2e471dc635626fe7b5c" title="Get callback&#39;s execution time.">msutimer_bench()</a>, <a class="el" href="msutimer_8h.html#a0680bc49327dac06b2a2bb1c715914e9" title="Get callback&#39;s average execution time.">msutimer_bench_average()</a>, <a class="el" href="msutimer_8h.html#a59f02f48eab0566b6188937a8d5c8292" title="Get callback&#39;s median execution time.">msutimer_bench_median()</a></dd></dl>
<dl class="section user"><dt>Sample Usage</dt><dd>See <a class="el" href="index.html#msut_use">Usage Quick Guide</a> for detailed examples. </dd></dl>

</div>
</div>
<a id="acb8782114eb99c008bd70f31856075f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8782114eb99c008bd70f31856075f7">&#9670;&nbsp;</a></span>msutimer_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="msutimer_8h.html#aaa3124bc53d7c37e4b282170aa44c133">MSUTimer</a>* msutimer_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new timer. </p>
<p>Constructs, initializes and starts a new timer. De-allocation should be done by the caller, with <a class="el" href="msutimer_8h.html#a9eb8df77fffe284b53342938a32a8bd8" title="Free an existing timer.">msutimer_free()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>The newly allocated timer, or <code>NULL</code> on error.</dd></dl>
<dl class="section user"><dt>Failures:</dt><dd><ul>
<li>memory allocation failure (<code>errno</code> is set by the C runtime)</li>
<li>no OS/hardware support for hires timer (<code>errno</code> is set to <code>ERANGE</code>)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Sample Usage</dt><dd><div class="fragment"><div class="line">MSUTimer *timer = <a class="code" href="msutimer_8h.html#acb8782114eb99c008bd70f31856075f7">msutimer_new</a>();</div>
<div class="line"><span class="keywordflow">if</span> ( !timer ) { handle error here }</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="msutimer_8h.html">msutimer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
